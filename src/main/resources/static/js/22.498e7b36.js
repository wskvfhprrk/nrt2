"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[22],{2022:(e,r,t)=>{t.r(r),t.d(r,{default:()=>S});var n=t(641),s=t(33),a={id:"app",class:"outer-container"},o={key:0,class:"order-status-display"},l={key:0,class:"order-status pending"},u={class:"order-list"},d={key:1,class:"order-status in-progress"},c={class:"order-list"},i={key:2,class:"order-status completed"},f={class:"order-list"},m={class:"container"},p={class:"button-container"},v={class:"go-to-backend"};function b(e,r,t,b,k,g){var h=(0,n.g2)("el-radio"),O=(0,n.g2)("el-radio-group"),_=(0,n.g2)("el-form-item"),F=(0,n.g2)("el-form"),C=(0,n.g2)("el-button"),S=(0,n.g2)("el-main"),E=(0,n.g2)("el-container");return(0,n.uX)(),(0,n.CE)("div",a,[k.hasOrders?((0,n.uX)(),(0,n.CE)("div",o,[k.pendingOrders.length?((0,n.uX)(),(0,n.CE)("div",l,[(0,n.eW)(" 待做订单: "),(0,n.Lk)("span",null,(0,s.v_)(k.pendingOrders.length),1),(0,n.Lk)("div",u,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(k.pendingOrders,(function(e){return(0,n.uX)(),(0,n.CE)("div",{key:e.orderId,class:"customer-name"},(0,s.v_)(e.customerName),1)})),128))])])):(0,n.Q3)("",!0),k.inProgressOrders.length?((0,n.uX)(),(0,n.CE)("div",d,[(0,n.eW)(" 在做订单: "),(0,n.Lk)("span",null,(0,s.v_)(k.inProgressOrders.length),1),(0,n.Lk)("div",c,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(k.inProgressOrders,(function(e){return(0,n.uX)(),(0,n.CE)("div",{key:e.orderId,class:"customer-name"},(0,s.v_)(e.customerName),1)})),128))])])):(0,n.Q3)("",!0),k.completedOrders.length?((0,n.uX)(),(0,n.CE)("div",i,[(0,n.eW)(" 做完订单: "),(0,n.Lk)("span",null,(0,s.v_)(k.completedOrders.length),1),(0,n.Lk)("div",f,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(k.completedOrders,(function(e){return(0,n.uX)(),(0,n.CE)("div",{key:e.orderId,class:"customer-name"},(0,s.v_)(e.customerName),1)})),128))])])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),(0,n.Lk)("div",m,[(0,n.bF)(E,null,{default:(0,n.k6)((function(){return[(0,n.bF)(S,null,{default:(0,n.k6)((function(){return[(0,n.bF)(F,{model:k.form,"label-width":"120px"},{default:(0,n.k6)((function(){return[(0,n.bF)(_,{label:"选择食谱"},{default:(0,n.k6)((function(){return[(0,n.bF)(O,{modelValue:k.form.selectedRecipe,"onUpdate:modelValue":r[0]||(r[0]=function(e){return k.form.selectedRecipe=e})},{default:(0,n.k6)((function(){return[(0,n.bF)(h,{label:"牛肉汤"},{default:(0,n.k6)((function(){return[(0,n.eW)("牛肉汤")]})),_:1}),(0,n.bF)(h,{label:"牛杂汤"},{default:(0,n.k6)((function(){return[(0,n.eW)("牛杂汤")]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),(0,n.bF)(_,{label:"选择类别"},{default:(0,n.k6)((function(){return[(0,n.bF)(O,{modelValue:k.form.selectedPrice,"onUpdate:modelValue":r[1]||(r[1]=function(e){return k.form.selectedPrice=e})},{default:(0,n.k6)((function(){return[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(k.prices,(function(e){return(0,n.uX)(),(0,n.Wv)(h,{key:e,label:e},{default:(0,n.k6)((function(){return[(0,n.eW)((0,s.v_)(e)+"元",1)]})),_:2},1032,["label"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,n.bF)(_,{label:"选择口味"},{default:(0,n.k6)((function(){return[(0,n.bF)(O,{modelValue:k.form.selectedSpice,"onUpdate:modelValue":r[2]||(r[2]=function(e){return k.form.selectedSpice=e})},{default:(0,n.k6)((function(){return[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(k.spices,(function(e){return(0,n.uX)(),(0,n.Wv)(h,{key:e,label:e},{default:(0,n.k6)((function(){return[(0,n.eW)((0,s.v_)(e),1)]})),_:2},1032,["label"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,n.bF)(_,{label:"添加香菜"},{default:(0,n.k6)((function(){return[(0,n.bF)(O,{modelValue:k.form.addCilantro,"onUpdate:modelValue":r[3]||(r[3]=function(e){return k.form.addCilantro=e})},{default:(0,n.k6)((function(){return[(0,n.bF)(h,{label:!0},{default:(0,n.k6)((function(){return[(0,n.eW)("是")]})),_:1}),(0,n.bF)(h,{label:!1},{default:(0,n.k6)((function(){return[(0,n.eW)("否")]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),(0,n.bF)(_,{label:"添加葱花"},{default:(0,n.k6)((function(){return[(0,n.bF)(O,{modelValue:k.form.addOnion,"onUpdate:modelValue":r[4]||(r[4]=function(e){return k.form.addOnion=e})},{default:(0,n.k6)((function(){return[(0,n.bF)(h,{label:!0},{default:(0,n.k6)((function(){return[(0,n.eW)("是")]})),_:1}),(0,n.bF)(h,{label:!1},{default:(0,n.k6)((function(){return[(0,n.eW)("否")]})),_:1})]})),_:1},8,["modelValue"])]})),_:1})]})),_:1},8,["model"]),(0,n.Lk)("div",p,[(0,n.bF)(C,{type:"primary",disabled:!k.isButtonEnabled,onClick:g.submitOrder,class:"center-button"},{default:(0,n.k6)((function(){return[(0,n.eW)("提交订单 ")]})),_:1},8,["disabled","onClick"])])]})),_:1})]})),_:1})]),(0,n.Lk)("div",{class:"status-message",style:(0,s.Tr)({color:k.serverStatus.color})},(0,s.v_)(k.serverStatus.message||"默认状态信息显示"),5),(0,n.Lk)("div",v,[(0,n.bF)(C,{type:"primary",onClick:g.goToBackend},{default:(0,n.k6)((function(){return[(0,n.eW)("后台登录")]})),_:1},8,["onClick"])])])}var k=t(459),g=t(388),h=(t(4114),t(6031),t(2505)),O=t.n(h);const _={name:"App",data:function(){return{form:{selectedRecipe:"牛肉汤",selectedPrice:20,selectedSpice:"微辣",addCilantro:!0,addOnion:!0},recipes:["牛肉汤","牛杂汤"],prices:[10,15,20],spices:["不辣","微辣","中辣","辣"],orderSubmitted:!1,isButtonEnabled:!1,serverStatus:{color:"black",message:""},pendingOrders:[],inProgressOrders:[],completedOrders:[],hasOrders:!1}},methods:{cleanSession:function(){localStorage.removeItem("userToken")},goToBackend:function(){this.$router.push("/login")},submitOrder:function(){var e=this;return(0,g.A)((0,k.A)().mark((function r(){var t;return(0,k.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!(e.form.selectedRecipe&&e.form.selectedPrice&&e.form.selectedSpice)){r.next=17;break}return r.prev=1,r.next=4,O().post("http://127.0.0.1:8080/orders",e.form,{headers:{"Content-Type":"application/json"}});case 4:t=r.sent,e.orderSubmitted=!0,e.$message.success("订单提交成功"),console.log(t.data),setTimeout((function(){location.reload()}),5e3),r.next=15;break;case 11:r.prev=11,r.t0=r["catch"](1),e.$message.error("订单提交失败"),console.error(r.t0);case 15:r.next=18;break;case 17:e.$message.error("请完整选择所有选项");case 18:case"end":return r.stop()}}),r,null,[[1,11]])})))()},fetchServerStatus:function(){var e=this;return(0,g.A)((0,k.A)().mark((function r(){var t;return(0,k.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,O().get("http://127.0.0.1:8080/orders/serverStatus");case 3:t=r.sent,e.serverStatus.color=t.data.color,e.serverStatus.message=t.data.message,e.isButtonEnabled="green"===e.serverStatus.color,r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](0),console.error("获取服务器状态时出错:",r.t0),e.isButtonEnabled=!1;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},fetchOrderData:function(){var e=this;return(0,g.A)((0,k.A)().mark((function r(){var t;return(0,k.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,O().get("http://127.0.0.1:8080/orders/status");case 3:t=r.sent,200===t.data.code?(e.pendingOrders=t.data.data.pendingOrders||[],e.inProgressOrders=t.data.data.inProgressOrders||[],e.completedOrders=t.data.data.completedOrders||[],e.hasOrders=e.pendingOrders.length>0||e.inProgressOrders.length>0||e.completedOrders.length>0):console.error(t.data.message),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),console.error("获取订单数据时出错:",r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()}},mounted:function(){this.cleanSession(),this.fetchServerStatus(),setInterval(this.fetchServerStatus,1e3),this.fetchOrderData(),setInterval(this.fetchOrderData,1e3)}};var F=t(6262);const C=(0,F.A)(_,[["render",b]]),S=C},9472:(e,r,t)=>{var n=t(2195),s=t(8745),a=t(4901),o=t(4215),l=t(2839),u=t(7680),d=t(2812),c=n.Function,i=/MSIE .\./.test(l)||"BUN"===o&&function(){var e=n.Bun.version.split(".");return e.length<3||"0"===e[0]&&(e[1]<3||"3"===e[1]&&"0"===e[2])}();e.exports=function(e,r){var t=r?2:1;return i?function(n,o){var l=d(arguments.length,1)>t,i=a(n)?n:c(n),f=l?u(arguments,t):[],m=l?function(){s(i,this,f)}:i;return r?e(m,o):e(m)}:e}},5575:(e,r,t)=>{var n=t(6518),s=t(2195),a=t(9472),o=a(s.setInterval,!0);n({global:!0,bind:!0,forced:s.setInterval!==o},{setInterval:o})},4599:(e,r,t)=>{var n=t(6518),s=t(2195),a=t(9472),o=a(s.setTimeout,!0);n({global:!0,bind:!0,forced:s.setTimeout!==o},{setTimeout:o})},6031:(e,r,t)=>{t(5575),t(4599)}}]);
//# sourceMappingURL=22.498e7b36.js.map